<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>canvas save&restore</title>
<style type="text/css">
	*{margin: 0px; padding:0px;}
	html, body {width:100%; height:100%;}
	canvas {display: block;}
</style>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js" type="application/javascript"></script>
<script>
$(document).ready(function(e) {
    var canvas = $("#myCanvas");
	var context = canvas.get(0).getContext("2d");
	context.fillStyle = "#00ff00";//green
	context.save();
	context.fillRect(0, 0, 30, 30);

	context.fillStyle = "#ff0000";//red
	context.save();
	context.fillRect(40, 0, 30, 30);

	context.restore();
	context.fillRect(90, 0, 30, 30);//red

	context.restore();
	context.fillRect(130, 0, 30, 30);//green

	context.restore();
	context.fillRect(170, 0, 30, 30);//green

	context.restore();
	context.fillRect(210, 0, 30, 30);//green

	$(window).resize(resizeCanvas);
	function resizeCanvas()
	{
		canvas.attr("width", $(window).get(0).innerWidth);
		canvas.attr("height", $(window).get(0).innerHeight);
		context.fillRect(0, 0, $(window).get(0).innerWidth, $(window).get(0).innerHeight);
	}



});



</script>
</head>

<body>
<canvas id="myCanvas" width="500" height="500">
</canvas>
</body>
</html>
